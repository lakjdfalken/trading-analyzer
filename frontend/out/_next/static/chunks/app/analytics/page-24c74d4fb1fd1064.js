(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{87846:function(e,t,a){Promise.resolve().then(a.bind(a,10575))},26490:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},37211:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},10575:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return em}});var s=a(3827),r=a(64090),n=a(22071),l=a(48219),i=a(56227),d=a(26490),o=a(87461);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,o.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var u=a(10775);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,o.Z)("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),m=(0,o.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var h=a(97307),f=a(29733);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,o.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),j=(0,o.Z)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var g=a(44715),v=a(37211),y=a(5080),b=a(15671),N=a(575),w=a(33277),k=a(51708),M=a(50012),L=a(23148),S=a(20966),P=a(65717),D=a(19729),z=a(26587),F=a(81433),A=a(38333),Z=a(23356),W=a(22983),C=a(10166),T=a(94688),K=a(78720),R=a(74994),E=a(25890);function B(e){let{active:t,payload:a,label:r,currency:n,formatAmount:l}=e;if(!t||!a||0===a.length)return null;let i=a[0].payload,d=i.pnl>=0,o=r||"";try{o=(0,E.WU)(new Date(r||""),"MMM d, yyyy")}catch(e){}return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:o}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"P&L:"}),(0,s.jsxs)("span",{className:d?"text-green-500":"text-red-500",children:[d?"+":"",l(i.pnl,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Cumulative:"}),(0,s.jsxs)("span",{className:i.cumulativePnl>=0?"text-green-500":"text-red-500",children:[i.cumulativePnl>=0?"+":"",l(i.cumulativePnl,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trades:"}),(0,s.jsx)("span",{children:i.trades})]})]})]})}function U(e){let{data:t,height:a=300,showCumulative:n=!1,currency:l="USD"}=e,{formatAmount:i}=(0,y.ux)(),d=r.useMemo(()=>t&&0!==t.length?t.map(e=>({...e,displayDate:e.date})):[],[t]),o=r.useMemo(()=>{if(0===d.length)return[-100,100];let e=0,t=0;d.forEach(a=>{let s=n?a.cumulativePnl:a.pnl;e=Math.min(e,s),t=Math.max(t,s)});let a=Math.max(.1*Math.abs(t-e),10);return[Math.floor(e-a),Math.ceil(t+a)]},[d,n]);return t&&0!==t.length?(0,s.jsx)(z.h,{width:"100%",height:a,children:(0,s.jsxs)(F.v,{data:d,margin:{top:20,right:30,left:20,bottom:20},children:[(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"date",tickFormatter:e=>{try{let t=new Date(e);return(0,E.WU)(t,"MMM d")}catch(t){return e}},tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},interval:"preserveStartEnd",minTickGap:30}),(0,s.jsx)(W.B,{tickFormatter:e=>Math.abs(e)>=1e6?"".concat((e/1e6).toFixed(1),"M"):Math.abs(e)>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,domain:o}),(0,s.jsx)(C.u,{content:(0,s.jsx)(B,{currency:l,formatAmount:i}),cursor:{fill:"hsl(var(--muted))",opacity:.3}}),(0,s.jsx)(T.d,{y:0,stroke:"hsl(var(--border))",strokeWidth:1}),(0,s.jsx)(K.$,{dataKey:n?"cumulativePnl":"pnl",radius:[4,4,0,0],maxBarSize:50,children:d.map((e,t)=>{let a=n?e.cumulativePnl:e.pnl;return(0,s.jsx)(R.b,{fill:a>=0?"#22c55e":"#ef4444"},"cell-".concat(t))})})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsx)("p",{children:"No daily P&L data available"})})}var G=a(94830),H=a(43897);function O(e){let{active:t,payload:a,label:r,currency:n,formatAmount:l}=e;if(!t||!a||0===a.length)return null;let i=a[0].payload,d=r||"";try{d=(0,E.WU)(new Date(r||""),"MMM d, yyyy")}catch(e){}return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:d}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Balance:"}),(0,s.jsx)("span",{children:l(i.balance,n)})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Peak:"}),(0,s.jsx)("span",{children:l(i.peak,n)})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Drawdown:"}),(0,s.jsxs)("span",{className:i.drawdown>0?"text-red-500":"",children:[i.drawdown>0?"-":"",l(i.drawdown,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Drawdown %:"}),(0,s.jsxs)("span",{className:i.drawdownPercent>0?"text-red-500":"",children:[i.drawdownPercent>0?"-":"",i.drawdownPercent.toFixed(2),"%"]})]})]})]})}function q(e){var t;let{balanceData:a,height:n=300,currency:l="USD"}=e,{formatAmount:i}=(0,y.ux)(),d=r.useMemo(()=>{if(!a||0===a.length)return[];let e=0;return a.map(t=>{let a=t.balance;a>e&&(e=a);let s=e-a,r=e>0?s/e*100:0;return{date:t.date,balance:a,peak:e,drawdown:s,drawdownPercent:-r}})},[a]),o=r.useMemo(()=>{if(0===d.length)return[-10,0];let e=0;d.forEach(t=>{e=Math.min(e,t.drawdownPercent)});let t=.1*Math.abs(e);return[Math.floor(e-t),5]},[d]);if(!a||0===a.length)return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:n},children:(0,s.jsx)("p",{children:"No balance data available for drawdown analysis"})});let c=Math.min(...d.map(e=>e.drawdownPercent)),u=(null===(t=d[d.length-1])||void 0===t?void 0:t.drawdownPercent)||0;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-4 text-sm px-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Max Drawdown: "}),(0,s.jsxs)("span",{className:"text-red-500 font-medium",children:[Math.abs(c).toFixed(2),"%"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Current: "}),(0,s.jsxs)("span",{className:u<0?"text-red-500 font-medium":"text-green-500 font-medium",children:[Math.abs(u).toFixed(2),"%"]})]})]}),(0,s.jsx)(z.h,{width:"100%",height:n-30,children:(0,s.jsxs)(G.T,{data:d,margin:{top:10,right:30,left:20,bottom:20},children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("linearGradient",{id:"drawdownGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.6})]})}),(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"date",tickFormatter:e=>{try{let t=new Date(e);return(0,E.WU)(t,"MMM d")}catch(t){return e}},tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},interval:"preserveStartEnd",minTickGap:30}),(0,s.jsx)(W.B,{tickFormatter:e=>"".concat(e.toFixed(0),"%"),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,domain:o}),(0,s.jsx)(C.u,{content:(0,s.jsx)(O,{currency:l,formatAmount:i})}),(0,s.jsx)(T.d,{y:0,stroke:"hsl(var(--border))",strokeWidth:1}),(0,s.jsx)(H.u,{type:"monotone",dataKey:"drawdownPercent",stroke:"#ef4444",strokeWidth:2,fill:"url(#drawdownGradient)"})]})})]})}function V(e){var t;let{active:a,payload:r,currency:n,formatAmount:l}=e;if(!a||!r||0===r.length)return null;let i=r[0].payload,d=i.pnl>=0;return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:(t=i.hour,"".concat(t%12||12,":00 ").concat(t>=12?"PM":"AM"))}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"P&L:"}),(0,s.jsxs)("span",{className:d?"text-green-500":"text-red-500",children:[d?"+":"",l(i.pnl,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trades:"}),(0,s.jsx)("span",{children:i.trades})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Win Rate:"}),(0,s.jsxs)("span",{className:i.winRate>=50?"text-green-500":"text-red-500",children:[i.winRate.toFixed(1),"%"]})]})]})]})}function _(e){let{data:t,height:a=300,currency:n="USD",metric:l="pnl"}=e,{formatAmount:i}=(0,y.ux)(),d=r.useMemo(()=>{if(!t||0===t.length)return Array.from({length:24},(e,t)=>({hour:t,pnl:0,trades:0,winRate:0}));let e=new Map;return t.forEach(t=>{e.set(t.hour,t)}),Array.from({length:24},(t,a)=>e.get(a)||{hour:a,pnl:0,trades:0,winRate:0})},[t]),o=r.useMemo(()=>{if(0===d.length)return[-100,100];let e=0,t=0;if(d.forEach(a=>{let s=a[l];e=Math.min(e,s),t=Math.max(t,s)}),"winRate"===l)return[0,100];let a=Math.max(.1*Math.abs(t-e),10);return[Math.floor(e-a),Math.ceil(t+a)]},[d,l]),c=e=>"winRate"===l?e>=50?"#22c55e":"#ef4444":"pnl"===l?e>=0?"#22c55e":"#ef4444":"#3b82f6";if(!(t&&t.some(e=>e.trades>0)))return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsx)("p",{children:"No hourly performance data available"})});let u=[...d].sort((e,t)=>t.pnl-e.pnl),x=u.find(e=>e.trades>0),m=[...u].reverse().find(e=>e.trades>0),h=e=>"".concat(e%12||12,":00 ").concat(e>=12?"PM":"AM");return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-4 text-sm px-4",children:[x&&x.trades>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Best Hour: "}),(0,s.jsxs)("span",{className:"text-green-500 font-medium",children:[h(x.hour)," (+",i(x.pnl,n),")"]})]}),m&&m.trades>0&&m.pnl<0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Worst Hour: "}),(0,s.jsxs)("span",{className:"text-red-500 font-medium",children:[h(m.hour)," (",i(m.pnl,n),")"]})]})]}),(0,s.jsx)(z.h,{width:"100%",height:a-30,children:(0,s.jsxs)(F.v,{data:d,margin:{top:10,right:30,left:20,bottom:20},children:[(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"hour",tickFormatter:e=>e%4==0?"".concat(e%12||12).concat(e>=12?"PM":"AM"):"",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},interval:0}),(0,s.jsx)(W.B,{tickFormatter:e=>"winRate"===l?"".concat(e,"%"):"trades"===l?e.toFixed(0):Math.abs(e)>=1e6?"".concat((e/1e6).toFixed(1),"M"):Math.abs(e)>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,domain:o}),(0,s.jsx)(C.u,{content:(0,s.jsx)(V,{currency:n,formatAmount:i}),cursor:{fill:"hsl(var(--muted))",opacity:.3}}),"pnl"===l&&(0,s.jsx)(T.d,{y:0,stroke:"hsl(var(--border))",strokeWidth:1}),"winRate"===l&&(0,s.jsx)(T.d,{y:50,stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"3 3"}),(0,s.jsx)(K.$,{dataKey:l,radius:[2,2,0,0],maxBarSize:30,children:d.map((e,t)=>(0,s.jsx)(R.b,{fill:c(e[l])},"cell-".concat(t)))})]})})]})}function I(e){let{active:t,payload:a,currency:r,formatAmount:n}=e;if(!t||!a||0===a.length)return null;let l=a[0].payload,i=l.pnl>=0;return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:l.weekday}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"P&L:"}),(0,s.jsxs)("span",{className:i?"text-green-500":"text-red-500",children:[i?"+":"",n(l.pnl,r)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trades:"}),(0,s.jsx)("span",{children:l.trades})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Win Rate:"}),(0,s.jsxs)("span",{className:l.winRate>=50?"text-green-500":"text-red-500",children:[l.winRate.toFixed(1),"%"]})]})]})]})}let $=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Y={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"};function J(e){let{data:t,height:a=300,currency:n="USD",metric:l="pnl"}=e,{formatAmount:i}=(0,y.ux)(),d=r.useMemo(()=>{if(!t||0===t.length)return $.map(e=>({weekday:e,pnl:0,trades:0,winRate:0}));let e=new Map;return t.forEach(t=>{e.set(t.weekday,t)}),$.map(t=>e.get(t)||{weekday:t,pnl:0,trades:0,winRate:0})},[t]),o=r.useMemo(()=>{if(0===d.length)return[-100,100];let e=0,t=0;if(d.forEach(a=>{let s=a[l];e=Math.min(e,s),t=Math.max(t,s)}),"winRate"===l)return[0,100];let a=Math.max(.1*Math.abs(t-e),10);return[Math.floor(e-a),Math.ceil(t+a)]},[d,l]),c=e=>"winRate"===l?e>=50?"#22c55e":"#ef4444":"pnl"===l?e>=0?"#22c55e":"#ef4444":"#3b82f6";if(!(t&&t.some(e=>e.trades>0)))return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsx)("p",{children:"No weekday performance data available"})});let u=[...d].sort((e,t)=>t.pnl-e.pnl),x=u.find(e=>e.trades>0),m=[...u].reverse().find(e=>e.trades>0);return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-4 text-sm px-4",children:[x&&x.trades>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Best Day: "}),(0,s.jsxs)("span",{className:"text-green-500 font-medium",children:[x.weekday," (+",i(x.pnl,n),")"]})]}),m&&m.trades>0&&m.pnl<0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Worst Day: "}),(0,s.jsxs)("span",{className:"text-red-500 font-medium",children:[m.weekday," (",i(m.pnl,n),")"]})]})]}),(0,s.jsx)(z.h,{width:"100%",height:a-30,children:(0,s.jsxs)(F.v,{data:d,margin:{top:10,right:30,left:20,bottom:20},children:[(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"weekday",tickFormatter:e=>Y[e]||e.slice(0,3),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"}}),(0,s.jsx)(W.B,{tickFormatter:e=>"winRate"===l?"".concat(e,"%"):"trades"===l?e.toFixed(0):Math.abs(e)>=1e6?"".concat((e/1e6).toFixed(1),"M"):Math.abs(e)>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,domain:o}),(0,s.jsx)(C.u,{content:(0,s.jsx)(I,{currency:n,formatAmount:i}),cursor:{fill:"hsl(var(--muted))",opacity:.3}}),"pnl"===l&&(0,s.jsx)(T.d,{y:0,stroke:"hsl(var(--border))",strokeWidth:1}),"winRate"===l&&(0,s.jsx)(T.d,{y:50,stroke:"hsl(var(--muted-foreground))",strokeWidth:1,strokeDasharray:"3 3"}),(0,s.jsx)(K.$,{dataKey:l,radius:[4,4,0,0],maxBarSize:60,children:d.map((e,t)=>(0,s.jsx)(R.b,{fill:c(e[l])},"cell-".concat(t)))})]})})]})}function Q(e){let{label:t,value:a,icon:r,color:n,subLabel:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg border ".concat({green:"text-green-500 bg-green-500/10 border-green-500/20",red:"text-red-500 bg-red-500/10 border-red-500/20",neutral:"text-muted-foreground bg-muted/50 border-border"}[n]),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r,(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]}),(0,s.jsx)("span",{className:"text-2xl font-bold ".concat({green:"text-green-500",red:"text-red-500",neutral:"text-foreground"}[n]),children:a}),l&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:l})]})}function X(e){let{value:t,maxValue:a,color:r,label:n}=e,l=a>0?t/a*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground w-24",children:n}),(0,s.jsx)("div",{className:"flex-1 h-6 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full ".concat("green"===r?"bg-green-500":"bg-red-500"," rounded-full transition-all duration-500"),style:{width:"".concat(Math.min(l,100),"%")}})}),(0,s.jsx)("span",{className:"text-sm font-medium w-8 text-right",children:t})]})}function ee(e){let{data:t,height:a=300}=e;if(!t)return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"No streak data available"})]})});let{currentStreak:r,currentStreakType:n,maxWinStreak:l,maxLossStreak:i,avgWinStreak:d,avgLossStreak:o}=t,x="win"===n,m="loss"===n,h=Math.max(l,i,1);return(0,s.jsxs)("div",{className:"space-y-6",style:{minHeight:a},children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 rounded-xl border-2 ".concat(x?"border-green-500/50 bg-green-500/5":m?"border-red-500/50 bg-red-500/5":"border-border bg-muted/20"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[x?(0,s.jsx)(f.Z,{className:"h-5 w-5 text-green-500"}):m?(0,s.jsx)(u.Z,{className:"h-5 w-5 text-red-500"}):(0,s.jsx)(c,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Current Streak"})]}),(0,s.jsx)("span",{className:"text-4xl font-bold ".concat(x?"text-green-500":m?"text-red-500":"text-muted-foreground"),children:r}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground mt-1 capitalize",children:"none"===n?"No trades":"".concat(n).concat(1!==r?"s":"")})]})}),(0,s.jsxs)("div",{className:"space-y-3 px-4",children:[(0,s.jsx)(X,{value:l,maxValue:h,color:"green",label:"Max Win"}),(0,s.jsx)(X,{value:i,maxValue:h,color:"red",label:"Max Loss"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 px-4",children:[(0,s.jsx)(Q,{label:"Max Win Streak",value:l,icon:(0,s.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}),color:"green"}),(0,s.jsx)(Q,{label:"Max Loss Streak",value:i,icon:(0,s.jsx)(u.Z,{className:"h-4 w-4 text-red-500"}),color:"red"}),(0,s.jsx)(Q,{label:"Avg Win Streak",value:d.toFixed(1),icon:(0,s.jsx)(c,{className:"h-4 w-4 text-green-500"}),color:"neutral",subLabel:"trades"}),(0,s.jsx)(Q,{label:"Avg Loss Streak",value:o.toFixed(1),icon:(0,s.jsx)(c,{className:"h-4 w-4 text-red-500"}),color:"neutral",subLabel:"trades"})]})]})}/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let et=(0,o.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function ea(e){if(e<1)return"< 1m";if(e<60)return"".concat(Math.round(e),"m");if(e<1440){let t=Math.floor(e/60),a=Math.round(e%60);return a>0?"".concat(t,"h ").concat(a,"m"):"".concat(t,"h")}let t=Math.floor(e/1440),a=Math.floor(e%1440/60);return a>0?"".concat(t,"d ").concat(a,"h"):"".concat(t,"d")}function es(e){let{label:t,value:a,icon:r,color:n,subLabel:l}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg border ".concat({green:"text-green-500 bg-green-500/10 border-green-500/20",red:"text-red-500 bg-red-500/10 border-red-500/20",blue:"text-blue-500 bg-blue-500/10 border-blue-500/20",neutral:"text-muted-foreground bg-muted/50 border-border"}[n]),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r,(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]}),(0,s.jsx)("span",{className:"text-2xl font-bold ".concat({green:"text-green-500",red:"text-red-500",blue:"text-blue-500",neutral:"text-foreground"}[n]),children:a}),l&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground mt-1",children:l})]})}function er(e){let{value:t,maxValue:a,color:r,label:n}=e,l=a>0?t/a*100:0;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground w-28",children:n}),(0,s.jsx)("div",{className:"flex-1 h-6 bg-muted rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full ".concat({green:"bg-green-500",red:"bg-red-500",blue:"bg-blue-500"}[r]," rounded-full transition-all duration-500"),style:{width:"".concat(Math.min(l,100),"%")}})}),(0,s.jsx)("span",{className:"text-sm font-medium w-16 text-right",children:ea(t)})]})}function en(e){let{data:t,height:a=300}=e;if(!t)return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"No trade duration data available"})]})});let{avgDurationMinutes:r,minDurationMinutes:n,maxDurationMinutes:l,avgWinnerDuration:i,avgLoserDuration:o}=t,c=Math.max(l,i,o,1),x=i>o?"Winners held longer":o>i?"Losers held longer":"Similar hold times";return(0,s.jsxs)("div",{className:"space-y-6",style:{minHeight:a},children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 rounded-xl border-2 border-blue-500/50 bg-blue-500/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(et,{className:"h-5 w-5 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Average Duration"})]}),(0,s.jsx)("span",{className:"text-4xl font-bold text-blue-500",children:ea(r)}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground mt-1",children:x})]})}),(0,s.jsxs)("div",{className:"space-y-3 px-4",children:[(0,s.jsx)(er,{value:i,maxValue:c,color:"green",label:"Avg Winner"}),(0,s.jsx)(er,{value:o,maxValue:c,color:"red",label:"Avg Loser"}),(0,s.jsx)(er,{value:l,maxValue:c,color:"blue",label:"Max Duration"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 px-4",children:[(0,s.jsx)(es,{label:"Avg Winner Hold",value:ea(i),icon:(0,s.jsx)(f.Z,{className:"h-4 w-4 text-green-500"}),color:"green"}),(0,s.jsx)(es,{label:"Avg Loser Hold",value:ea(o),icon:(0,s.jsx)(u.Z,{className:"h-4 w-4 text-red-500"}),color:"red"}),(0,s.jsx)(es,{label:"Shortest Trade",value:ea(n),icon:(0,s.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"}),color:"neutral"}),(0,s.jsx)(es,{label:"Longest Trade",value:ea(l),icon:(0,s.jsx)(d.Z,{className:"h-4 w-4 text-blue-500"}),color:"blue"})]})]})}function el(e){let{active:t,payload:a,label:r,currency:n,formatAmount:l}=e;if(!t||!a||0===a.length)return null;let i=a[0].payload,d=i.cumulativePnl>=0,o=r||"";try{o=(0,E.WU)(new Date(r||""),"MMM d, yyyy")}catch(e){}return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsx)("p",{className:"font-medium mb-2",children:o}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Cumulative P&L:"}),(0,s.jsxs)("span",{className:d?"text-green-500":"text-red-500",children:[d?"+":"",l(i.cumulativePnl,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Day P&L:"}),(0,s.jsxs)("span",{className:i.pnl>=0?"text-green-500":"text-red-500",children:[i.pnl>=0?"+":"",l(i.pnl,n)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trades:"}),(0,s.jsx)("span",{children:i.trades})]})]})]})}function ei(e){var t;let{data:a,height:n=300,currency:l="USD"}=e,{formatAmount:i}=(0,y.ux)(),d=r.useMemo(()=>a&&0!==a.length?a:[],[a]),o=r.useMemo(()=>{if(0===d.length)return[-100,100];let e=0,t=0;d.forEach(a=>{e=Math.min(e,a.cumulativePnl),t=Math.max(t,a.cumulativePnl)});let a=Math.max(.1*Math.abs(t-e),10);return[Math.floor(e-a),Math.ceil(t+a)]},[d]);if(!a||0===a.length)return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:n},children:(0,s.jsx)("p",{children:"No P&L data available"})});let c=(null===(t=d[d.length-1])||void 0===t?void 0:t.cumulativePnl)||0,u=d.length>0?Math.max(...d.map(e=>e.cumulativePnl)):0,x=d.length>0?Math.min(...d.map(e=>e.cumulativePnl)):0,m=c>=0;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-4 text-sm px-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total P&L: "}),(0,s.jsxs)("span",{className:"font-medium ".concat(m?"text-green-500":"text-red-500"),children:[m?"+":"",i(c,l)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Peak: "}),(0,s.jsxs)("span",{className:"text-green-500 font-medium",children:["+",i(u,l)]})]}),x<0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trough: "}),(0,s.jsx)("span",{className:"text-red-500 font-medium",children:i(x,l)})]})]}),(0,s.jsx)(z.h,{width:"100%",height:n-30,children:(0,s.jsxs)(G.T,{data:d,margin:{top:10,right:30,left:20,bottom:20},children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("linearGradient",{id:"cumulativeGradientPos",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:.05})]}),(0,s.jsxs)("linearGradient",{id:"cumulativeGradientNeg",x1:"0",y1:"1",x2:"0",y2:"0",children:[(0,s.jsx)("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),(0,s.jsx)("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.05})]})]}),(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"date",tickFormatter:e=>{try{let t=new Date(e);return(0,E.WU)(t,"MMM d")}catch(t){return e}},tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},interval:"preserveStartEnd",minTickGap:30}),(0,s.jsx)(W.B,{tickFormatter:e=>Math.abs(e)>=1e6?"".concat((e/1e6).toFixed(1),"M"):Math.abs(e)>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,domain:o}),(0,s.jsx)(C.u,{content:(0,s.jsx)(el,{currency:l,formatAmount:i})}),(0,s.jsx)(T.d,{y:0,stroke:"hsl(var(--border))",strokeWidth:1}),(0,s.jsx)(H.u,{type:"monotone",dataKey:"cumulativePnl",stroke:m?"#22c55e":"#ef4444",strokeWidth:2,fill:m?"url(#cumulativeGradientPos)":"url(#cumulativeGradientNeg)"})]})})]})}function ed(e){let{active:t,payload:a,currency:r,formatAmount:n}=e;if(!t||!a||0===a.length)return null;let l=a[0].payload;return(0,s.jsxs)("div",{className:"rounded-lg border bg-popover p-3 shadow-md",style:{backgroundColor:"hsl(var(--popover))"},children:[(0,s.jsxs)("p",{className:"font-medium mb-2",children:["Size: ",l.range]}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Trades:"}),(0,s.jsx)("span",{children:l.count})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total P&L:"}),(0,s.jsxs)("span",{className:l.totalPnL>=0?"text-green-500":"text-red-500",children:[l.totalPnL>=0?"+":"",n(l.totalPnL,r)]})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Avg P&L:"}),(0,s.jsxs)("span",{className:l.avgPnL>=0?"text-green-500":"text-red-500",children:[l.avgPnL>=0?"+":"",n(l.avgPnL,r)]})]})]})]})}function eo(e){let{label:t,value:a,icon:r,color:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-3 rounded-lg border ".concat({green:"text-green-500 bg-green-500/10 border-green-500/20",red:"text-red-500 bg-red-500/10 border-red-500/20",blue:"text-blue-500 bg-blue-500/10 border-blue-500/20",neutral:"text-muted-foreground bg-muted/50 border-border"}[n]),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r,(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:t})]}),(0,s.jsx)("span",{className:"text-lg font-bold ".concat({green:"text-green-500",red:"text-red-500",blue:"text-blue-500",neutral:"text-foreground"}[n]),children:a})]})}function ec(e){let{data:t,height:a=300,currency:r="USD"}=e,{formatAmount:n}=(0,y.ux)();if(!t||0===t.avgPositionSize)return(0,s.jsx)("div",{className:"flex items-center justify-center text-muted-foreground",style:{height:a},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(p,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{children:"No position size data available"})]})});let{avgPositionSize:l,minPositionSize:i,maxPositionSize:d,avgWinnerSize:o,avgLoserSize:c,sizeDistribution:x}=t,m=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),h=[...x].filter(e=>e.count>0).sort((e,t)=>t.avgPnL-e.avgPnL)[0],j=[...x].filter(e=>e.count>0).sort((e,t)=>e.avgPnL-t.avgPnL)[0];return(0,s.jsxs)("div",{className:"space-y-4",style:{minHeight:a},children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-2 px-2",children:[(0,s.jsx)(eo,{label:"Avg Size",value:m(l),icon:(0,s.jsx)(p,{className:"h-3 w-3 text-blue-500"}),color:"blue"}),(0,s.jsx)(eo,{label:"Winner Avg",value:m(o),icon:(0,s.jsx)(f.Z,{className:"h-3 w-3 text-green-500"}),color:"green"}),(0,s.jsx)(eo,{label:"Loser Avg",value:m(c),icon:(0,s.jsx)(u.Z,{className:"h-3 w-3 text-red-500"}),color:"red"}),(0,s.jsx)(eo,{label:"Max Size",value:m(d),icon:(0,s.jsx)(p,{className:"h-3 w-3 text-muted-foreground"}),color:"neutral"})]}),h&&j&&(0,s.jsxs)("div",{className:"flex gap-4 text-sm px-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Best Size Range: "}),(0,s.jsxs)("span",{className:"text-green-500 font-medium",children:[h.range," (avg ",n(h.avgPnL,r),")"]})]}),j.avgPnL<0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Worst: "}),(0,s.jsxs)("span",{className:"text-red-500 font-medium",children:[j.range," (avg ",n(j.avgPnL,r),")"]})]})]}),(0,s.jsx)(z.h,{width:"100%",height:a-120,children:(0,s.jsxs)(F.v,{data:x,margin:{top:10,right:30,left:20,bottom:40},children:[(0,s.jsx)(A.q,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(Z.K,{dataKey:"range",tick:{fill:"hsl(var(--muted-foreground))",fontSize:10},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},angle:-45,textAnchor:"end",height:60}),(0,s.jsx)(W.B,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:!1,axisLine:!1,label:{value:"Trades",angle:-90,position:"insideLeft",style:{fill:"hsl(var(--muted-foreground))",fontSize:12}}}),(0,s.jsx)(C.u,{content:(0,s.jsx)(ed,{currency:r,formatAmount:n}),cursor:{fill:"hsl(var(--muted))",opacity:.3}}),(0,s.jsx)(K.$,{dataKey:"count",radius:[4,4,0,0],maxBarSize:50,children:x.map((e,t)=>(0,s.jsx)(R.b,{fill:e.avgPnL>=0?"#22c55e":"#ef4444"},"cell-".concat(t)))})]})})]})}var eu=a(59547),ex=a(43528);function em(){var e,t;let[a,o]=r.useState("all"),[z,F]=r.useState(null),[A,Z]=r.useState(null),[W,C]=r.useState(!1),[T,K]=r.useState(!1),{defaultCurrency:R}=(0,y.ux)(),[E,B]=r.useState(null),[G,H]=r.useState(null),[O,V]=r.useState([]),[I,$]=r.useState([]),[Y,Q]=r.useState([]),[X,et]=r.useState(null),[ea,es]=r.useState(null),[er,el]=r.useState(null),{dateRange:ed,balanceHistory:eo,monthlyPnL:em,winRateByInstrument:eh,loading:ef,setDateRange:ep,setBalanceHistory:ej,setMonthlyPnL:eg,setWinRateByInstrument:ev,setLoading:ey,isInitialized:eb,setInitialized:eN}=(0,ex.Ln)();r.useEffect(()=>{C(!0)},[]);let ew=r.useCallback(()=>{let e=new URLSearchParams;return ed.from&&e.append("from",ed.from.toISOString()),ed.to&&e.append("to",ed.to.toISOString()),e.toString()?"?".concat(e.toString()):""},[ed.from,ed.to]),ek=r.useCallback(async()=>{ey("dashboard",!0);try{let e=ew(),[t,a,s,r,n,l,i,d,o,c,u]=await Promise.allSettled([fetch("".concat("","/api/dashboard/balance").concat(e)),fetch("".concat("","/api/dashboard/monthly-pnl").concat(e)),fetch("".concat("","/api/dashboard/win-rate-by-instrument").concat(e)),fetch("".concat("","/api/dashboard/balance-by-account").concat(e)),fetch("".concat("","/api/dashboard/monthly-pnl-by-account").concat(e)),fetch("".concat("","/api/analytics/daily-pnl").concat(e)),fetch("".concat("","/api/analytics/performance/hourly").concat(e)),fetch("".concat("","/api/analytics/performance/weekday").concat(e)),fetch("".concat("","/api/analytics/streaks").concat(e)),fetch("".concat("","/api/analytics/trade-duration").concat(e)),fetch("".concat("","/api/analytics/position-size").concat(e))]);if("fulfilled"===t.status&&t.value.ok){let e=await t.value.json(),a=Array.isArray(e)?e:e.data||[];ej(a),e.currency&&Z(e.currency)}if("fulfilled"===a.status&&a.value.ok){let e=await a.value.json(),t=Array.isArray(e)?e:e.data||[];eg(t),e.currency&&Z(e.currency)}if("fulfilled"===s.status&&s.value.ok){let e=await s.value.json();ev(e)}if("fulfilled"===r.status&&r.value.ok){let e=await r.value.json();B(e)}if("fulfilled"===n.status&&n.value.ok){let e=await n.value.json();H(e)}if("fulfilled"===l.status&&l.value.ok){let e=await l.value.json();V(e)}if("fulfilled"===i.status&&i.value.ok){let e=await i.value.json();$(e)}if("fulfilled"===d.status&&d.value.ok){let e=await d.value.json();Q(e)}if("fulfilled"===o.status&&o.value.ok){let e=await o.value.json();et(e)}if("fulfilled"===c.status&&c.value.ok){let e=await c.value.json();es(e)}if("fulfilled"===u.status&&u.value.ok){let e=await u.value.json();el(e)}eN(!0)}finally{ey("dashboard",!1)}},[ew,ey,ej,eg,ev,eN]);r.useEffect(()=>{W&&!T&&(K(!0),ek())},[W,T,ek]),r.useEffect(()=>{T&&W&&ek()},[ed.from,ed.to,T,W,ek]);let eM=A||R||"USD",eL=r.useMemo(()=>eo.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),balance:e.balance})),[eo]),eS=[{value:"all",label:"All Charts",icon:n.Z},{value:"pnl",label:"P&L Analysis",icon:l.Z},{value:"performance",label:"Performance",icon:i.Z},{value:"time",label:"Time Analysis",icon:d.Z},{value:"instruments",label:"Instruments",icon:c},{value:"risk",label:"Risk Metrics",icon:u.Z}],eP=[{id:"equity-curve",title:"Equity Curve",description:"Track your account balance over time",category:"pnl",icon:x,component:E&&E.series.length>1?(0,s.jsx)(P.y,{series:E.series,total:E.total,height:300,showTotal:!0,showLegend:!0}):(0,s.jsx)(k.E,{data:eL,height:300,startingBalance:1e4,showGrid:!0,currency:eM})},{id:"monthly-pnl",title:"Monthly P&L",description:"Profit and loss breakdown by month",category:"pnl",icon:n.Z,component:G&&G.series.length>1?(0,s.jsx)(D.H,{series:G.series,total:G.total,height:300,showTotal:!1,stacked:!0}):(0,s.jsx)(M.D,{data:em,height:300,currency:eM})},{id:"win-rate-instrument",title:"Win Rate by Instrument",description:"Performance comparison across different markets",category:"instruments",icon:m,component:(0,s.jsx)(L.uK,{data:eh,height:300,layout:"horizontal"})},{id:"daily-pnl",title:"Daily P&L Distribution",description:"Distribution of daily profit and loss",category:"pnl",icon:n.Z,component:(0,s.jsx)(U,{data:O,height:300,currency:eM})},{id:"drawdown",title:"Drawdown Analysis",description:"Historical drawdown periods and recovery",category:"risk",icon:u.Z,component:(0,s.jsx)(q,{balanceData:eo,height:300,currency:eM})},{id:"trade-duration",title:"Trade Duration",description:"Analysis of trade holding times",category:"time",icon:d.Z,component:(0,s.jsx)(en,{data:ea,height:300})},{id:"hourly-performance",title:"Performance by Hour",description:"Best and worst trading hours",category:"time",icon:h.Z,component:(0,s.jsx)(_,{data:I,height:300,currency:eM,metric:"pnl"})},{id:"weekday-performance",title:"Performance by Weekday",description:"Trading performance across different days",category:"time",icon:h.Z,component:(0,s.jsx)(J,{data:Y,height:300,currency:eM,metric:"pnl"})},{id:"win-loss-streak",title:"Win/Loss Streaks",description:"Consecutive wins and losses analysis",category:"performance",icon:c,component:(0,s.jsx)(ee,{data:X,height:300})},{id:"cumulative-pnl",title:"Cumulative P&L",description:"Running total of profits and losses",category:"pnl",icon:f.Z,component:(0,s.jsx)(ei,{data:O,height:300,currency:eM})},{id:"position-size",title:"Position Size Analysis",description:"Distribution and impact of position sizes",category:"risk",icon:p,component:(0,s.jsx)(ec,{data:er,height:300,currency:eM})}],eD="all"===a?eP:eP.filter(e=>e.category===a);return(0,s.jsxs)("div",{className:"min-h-screen bg-background p-6 md:p-8",children:[(0,s.jsxs)("div",{className:"container mx-auto max-w-7xl",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Analytics"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"In-depth analysis of your trading performance"})]}),(0,s.jsx)(eu.D,{dateRange:{from:ed.from,to:ed.to,preset:ed.preset},onDateRangeChange:e=>{ep({from:e.from,to:e.to,preset:e.preset||"custom"})}})]})}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eS.map(e=>{let t=e.icon,r=a===e.value,n="all"===e.value?eP.length:eP.filter(t=>t.category===e.value).length;return(0,s.jsxs)(N.z,{variant:r?"default":"outline",size:"sm",onClick:()=>o(e.value),className:"gap-2",children:[(0,s.jsx)(t,{className:"h-4 w-4"}),e.label,(0,s.jsx)(w.C,{variant:r?"secondary":"outline",className:"ml-1 h-5 px-1.5",children:n})]},e.value)})})}),(0,s.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:eD.map(e=>{let t=e.icon;return(0,s.jsxs)(b.Zb,{className:"overflow-hidden",children:[(0,s.jsxs)(b.Ol,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-md bg-primary/10",children:(0,s.jsx)(t,{className:"h-4 w-4 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.ll,{className:"text-base font-semibold",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-0.5",children:e.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>F(e.id),children:(0,s.jsx)(j,{className:"h-4 w-4"})}),(0,s.jsx)(N.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsx)(b.aY,{className:"pt-4",children:e.component})]},e.id)})}),0===eD.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,s.jsx)(v.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"No charts found"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Try selecting a different category"})]})]}),z&&(0,s.jsx)(S.$,{isOpen:!!z,onClose:()=>F(null),title:(null===(e=eP.find(e=>e.id===z))||void 0===e?void 0:e.title)||"Chart",subtitle:null===(t=eP.find(e=>e.id===z))||void 0===t?void 0:t.description,children:(0,s.jsxs)("div",{className:"w-full h-full min-h-[500px]",children:["equity-curve"===z&&(E&&E.series.length>1?(0,s.jsx)(P.y,{series:E.series,total:E.total,height:600,showTotal:!0,showLegend:!0}):(0,s.jsx)(k.E,{data:eL,height:600,startingBalance:1e4,showGrid:!0,currency:eM})),"monthly-pnl"===z&&(G&&G.series.length>1?(0,s.jsx)(D.H,{series:G.series,total:G.total,height:600,showTotal:!1,stacked:!0}):(0,s.jsx)(M.D,{data:em,height:600,currency:eM})),"win-rate-instrument"===z&&(0,s.jsx)(L.uK,{data:eh,height:600,layout:"horizontal"}),!["equity-curve","monthly-pnl","win-rate-instrument"].includes(z)&&(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,s.jsx)("p",{children:"Expanded view coming soon"})})]})})]})}}},function(e){e.O(0,[936,673,381,602,419,68,915,971,69,744],function(){return e(e.s=87846)}),_N_E=e.O()}]);
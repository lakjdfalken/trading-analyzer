(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{21241:function(e,t,s){Promise.resolve().then(s.bind(s,87675))},98998:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},10822:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},40834:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},87675:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var a=s(3827),n=s(64090),r=s(48219),l=s(56227),i=s(29733),c=s(10775),d=s(22071),o=s(10822),x=s(40834),m=s(98998),u=s(15671),h=s(22169),f=s(5080);let g={default:"border-border",success:"border-green-500/50 bg-green-500/5",warning:"border-yellow-500/50 bg-yellow-500/5",danger:"border-red-500/50 bg-red-500/5"},p={default:"text-muted-foreground",success:"text-green-500",warning:"text-yellow-500",danger:"text-red-500"};function j(e){let{title:t,value:s,subtitle:n,icon:r,trend:l,variant:i="default",className:c,currency:d,isCurrency:o=!1}=e,{formatWithConversion:x,formatAmount:m}=(0,f.ux)();return(0,a.jsxs)(u.Zb,{className:(0,h.cn)(g[i],c),children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(u.ll,{className:"text-sm font-medium text-muted-foreground",children:t}),r&&(0,a.jsx)(r,{className:(0,h.cn)("h-4 w-4",p[i])})]}),(0,a.jsxs)(u.aY,{children:[(()=>{if(!o||!d||"number"!=typeof s)return(0,a.jsx)("div",{className:"text-2xl font-bold",children:s});let{original:e,converted:t,showBoth:n}=x(s,d);return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e}),n&&t&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["(",t,")"]})]})})(),(n||l)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[l&&(0,a.jsxs)("span",{className:(0,h.cn)("text-xs font-medium",l.isPositive?"text-green-500":"text-red-500"),children:[l.isPositive?"+":"",l.value,"%"]}),n&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})]})]})}let v={2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"};function y(e){let{items:t,columns:s=4,className:n}=e;return(0,a.jsx)("div",{className:(0,h.cn)("grid gap-4",v[s],n),children:t.map((e,t)=>(0,a.jsx)(j,{...e},"kpi-".concat(t,"-").concat(e.title)))})}var b=s(87461);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,b.Z)("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]),w=(0,b.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var k=s(44715),P=s(575),Z=s(82012);let M={square:"aspect-square",video:"aspect-video",wide:"aspect-[21/9]",auto:""};function C(e){let{aspectRatio:t}=e;return(0,a.jsx)("div",{className:(0,h.cn)("w-full animate-pulse bg-muted rounded-md flex items-center justify-center",M[t]),children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[(0,a.jsx)(x.Z,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{className:"text-sm",children:"Loading chart..."})]})})}function D(e){let{message:t}=e;return(0,a.jsx)("div",{className:"w-full aspect-video bg-destructive/10 rounded-md flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Failed to load chart"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t})]})})}function R(e){let{onExpand:t,onDownload:s,onRefresh:r}=e,[l,i]=n.useState(!1);return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[r&&(0,a.jsx)(P.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:r,title:"Refresh",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}),t&&(0,a.jsx)(P.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:t,title:"Expand",children:(0,a.jsx)(N,{className:"h-4 w-4"})}),s&&(0,a.jsxs)(Z.J2,{open:l,onOpenChange:i,children:[(0,a.jsx)(Z.xo,{asChild:!0,children:(0,a.jsx)(P.z,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"More options",children:(0,a.jsx)(w,{className:"h-4 w-4"})})}),(0,a.jsx)(Z.yk,{className:"w-40 p-1",align:"end",children:(0,a.jsxs)(P.z,{variant:"ghost",size:"sm",className:"w-full justify-start text-sm",onClick:()=>{s(),i(!1)},children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Download PNG"]})})]})]})}function S(e){let{title:t,subtitle:s,children:n,loading:r=!1,error:l,onExpand:i,onDownload:c,onRefresh:d,className:o,aspectRatio:x="video",showToolbar:m=!0,footer:f}=e;return(0,a.jsxs)(u.Zb,{className:(0,h.cn)("overflow-hidden transition-shadow hover:shadow-lg",o),children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(u.ll,{className:"text-base font-semibold",children:t}),s&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:s})]}),m&&(i||c||d)&&(0,a.jsx)(R,{onExpand:i,onDownload:c,onRefresh:d})]}),(0,a.jsxs)(u.aY,{className:"p-4 pt-0",children:[r?(0,a.jsx)(C,{aspectRatio:x}):l?(0,a.jsx)(D,{message:l}):(0,a.jsx)("div",{className:(0,h.cn)("w-full","auto"!==x&&M[x]),children:n}),f&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-border",children:f})]})]})}var T=s(51708),z=s(50012),L=s(23148),_=s(20966),E=s(65717),A=s(19729),F=s(25890);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let O=(0,b.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),q=(0,b.Z)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),H=(0,b.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var V=s(33277);function I(e){let{trade:t,onClick:s}=e,n=t.pnl>=0,r="long"===t.direction,{formatAmount:l}=(0,f.ux)();return(0,a.jsxs)("div",{onClick:()=>null==s?void 0:s(t),className:(0,h.cn)("flex items-center justify-between p-3 rounded-lg transition-colors","hover:bg-accent/50 cursor-pointer","border-b border-border last:border-b-0"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,h.cn)("flex items-center justify-center w-8 h-8 rounded-full",r?"bg-green-500/10":"bg-red-500/10"),children:r?(0,a.jsx)(O,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(q,{className:"h-4 w-4 text-red-500"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:t.instrument}),(0,a.jsx)(V.C,{variant:r?"success":"danger",className:"text-[10px] px-1.5 py-0",children:r?"LONG":"SHORT"})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,F.WU)(t.exitTime,"MMM d, HH:mm")})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("span",{className:(0,h.cn)("font-semibold text-sm",(0,h.T_)(t.pnl)),children:[t.pnl>=0?"+":"",t.currency?l(t.pnl,t.currency):t.pnl.toFixed(2)]}),(0,a.jsxs)("span",{className:(0,h.cn)("text-xs flex items-center gap-0.5",(0,h.T_)(t.pnlPercent)),children:[n?(0,a.jsx)(i.Z,{className:"h-3 w-3"}):(0,a.jsx)(c.Z,{className:"h-3 w-3"}),t.pnlPercent>=0?"+":"",t.pnlPercent.toFixed(2),"%"]})]})]})}function U(){return(0,a.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-20 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-muted rounded"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-16 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-3 w-12 bg-muted rounded ml-auto"})]})]},t))})}function W(){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mb-3",children:(0,a.jsx)(i.Z,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("p",{className:"text-sm font-medium",children:"No trades yet"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Your recent trades will appear here"})]})}function G(e){var t;let{trades:s,maxItems:n=10,showHeader:r=!0,title:l="Recent Trades",onTradeClick:i,onViewAll:c,loading:d=!1,className:o}=e,x=s.slice(0,n),m=s.length>n,{formatAmount:g}=(0,f.ux)(),p=x.reduce((e,t)=>e+t.pnl,0),j=x.filter(e=>e.pnl>0).length,v=x.length>0?(j/x.length*100).toFixed(0):"0",y=(null===(t=Object.entries(x.reduce((e,t)=>{let s=t.currency;return s&&(e[s]=(e[s]||0)+1),e},{})).sort((e,t)=>t[1]-e[1])[0])||void 0===t?void 0:t[0])||null;return(0,a.jsxs)(u.Zb,{className:o,children:[r&&(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u.ll,{className:"text-base font-semibold",children:l}),!d&&x.length>0&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[x.length," trades •"," ",(0,a.jsxs)("span",{className:(0,h.T_)(p),children:[p>=0?"+":"",y?g(p,y):p.toFixed(2)]})," ","• ",v,"% win rate"]})]}),c&&!d&&s.length>0&&(0,a.jsxs)(P.z,{variant:"ghost",size:"sm",onClick:c,children:["View all",(0,a.jsx)(H,{className:"ml-1 h-4 w-4"})]})]}),(0,a.jsx)(u.aY,{className:(0,h.cn)(!r&&"pt-6"),children:d?(0,a.jsx)(U,{}):0===x.length?(0,a.jsx)(W,{}):(0,a.jsxs)("div",{className:"space-y-1",children:[x.map(e=>(0,a.jsx)(I,{trade:e,onClick:i},e.id)),m&&c&&(0,a.jsx)("div",{className:"pt-2 text-center",children:(0,a.jsxs)(P.z,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:c,children:["View ",s.length-n," more trades"]})})]})})]})}var B=s(59547),Y=s(43528);function $(){let{formatAmount:e,defaultCurrency:t}=(0,f.ux)(),[s,u]=n.useState(null),[g,p]=n.useState(!1),[j,v]=n.useState(null),[b,N]=n.useState(null),[w,k]=n.useState(null),{dateRange:P,selectedInstruments:Z,availableInstruments:M,kpis:C,balanceHistory:D,monthlyPnL:R,winRateByInstrument:F,recentTrades:O,loading:q,errors:H,lastUpdated:V,isInitialized:I,setDateRange:U,setSelectedInstruments:W,setKPIs:$,setBalanceHistory:K,setMonthlyPnL:J,setWinRateByInstrument:Q,setRecentTrades:X,setAvailableInstruments:ee,setLoading:et,setError:es,setLastUpdated:ea,setInitialized:en}=(0,Y.Ln)(),[er,el]=n.useState(!1);n.useEffect(()=>{p(!0)},[]);let ei=n.useCallback(()=>{let e=new URLSearchParams;return P.from&&e.append("from",P.from.toISOString()),P.to&&e.append("to",P.to.toISOString()),e.toString()?"?".concat(e.toString()):""},[P.from,P.to]),ec=n.useCallback(async()=>{et("dashboard",!0),es("dashboard",null);try{let e=ei(),t=new URLSearchParams(e.replace("?","")),[s,a,n,r,l,i,c]=await Promise.allSettled([fetch("".concat("","/api/dashboard/kpis").concat(e)),fetch("".concat("","/api/dashboard/balance").concat(e)),fetch("".concat("","/api/dashboard/monthly-pnl").concat(e)),fetch("".concat("","/api/trades/recent?limit=10").concat(e?"&"+t.toString():"")),fetch("".concat("","/api/instruments")),fetch("".concat("","/api/dashboard/balance-by-account").concat(e)),fetch("".concat("","/api/dashboard/monthly-pnl-by-account").concat(e))]);if("fulfilled"===s.status&&s.value.ok){let e=await s.value.json();$(e),e.currency&&u(e.currency)}if("fulfilled"===a.status&&a.value.ok){let e=await a.value.json(),t=Array.isArray(e)?e:e.data||[];K(t),e.currency&&u(e.currency)}if("fulfilled"===n.status&&n.value.ok){let e=await n.value.json(),t=Array.isArray(e)?e:e.data||[];J(t),e.currency&&u(e.currency)}if("fulfilled"===r.status&&r.value.ok){let e=(await r.value.json()).map(e=>({id:e.id||e.transaction_id,instrument:e.instrument||e.description,direction:e.direction||"long",entryPrice:e.entry_price||e.entryPrice||0,exitPrice:e.exit_price||e.exitPrice||0,entryTime:new Date(e.entry_time||e.entryTime||e.open_period||Date.now()),exitTime:new Date(e.exit_time||e.exitTime||e.transaction_date||Date.now()),quantity:e.quantity||e.amount||1,pnl:e.pnl||e.pl||0,pnlPercent:e.pnl_percent||e.pnlPercent||0,currency:e.currency}));X(e)}if("fulfilled"===l.status&&l.value.ok){let e=await l.value.json();ee(e)}if("fulfilled"===i.status&&i.value.ok){let e=await i.value.json();N(e)}if("fulfilled"===c.status&&c.value.ok){let e=await c.value.json();k(e)}ea(new Date),en(!0)}catch(e){console.error("Dashboard fetch error:",e),es("dashboard",e instanceof Error?e.message:"Failed to fetch data")}finally{et("dashboard",!1)}},[ei,et,es,$,K,J,Q,X,ee,ea,en]);n.useEffect(()=>{g&&!er&&(el(!0),ec())},[g,er,ec]);let ed=n.useCallback(e=>{U({from:e.from,to:e.to,preset:e.preset||"custom"}),ec()},[U,ec]),eo=s||t||"USD",ex=n.useMemo(()=>{if(!C)return[];let t=C.currency||eo;return[{title:"Total P&L",value:e(C.totalPnl,t),subtitle:"Last 30 days",icon:r.Z,trend:{value:12.5,isPositive:C.totalPnl>=0},variant:C.totalPnl>=0?"success":"danger"},{title:"Win Rate",value:"".concat(C.winRate.toFixed(1),"%"),subtitle:"".concat(C.totalTrades," trades"),icon:l.Z,trend:{value:3.2,isPositive:C.winRate>=50},variant:C.winRate>=50?"success":"warning"},{title:"Avg Win",value:e(C.avgWin,t),subtitle:"Per winning trade",icon:i.Z,variant:"default"},{title:"Avg Loss",value:e(C.avgLoss,t),subtitle:"Per losing trade",icon:c.Z,variant:"danger"},{title:"Profit Factor",value:C.profitFactor.toFixed(2),subtitle:"Risk/Reward ratio",icon:d.Z,trend:{value:.15,isPositive:C.profitFactor>=1},variant:C.profitFactor>=1.5?"success":"default"},{title:"Max Drawdown",value:"".concat(C.maxDrawdown.toFixed(1),"%"),subtitle:"Peak to trough",icon:o.Z,trend:{value:1.5,isPositive:!1},variant:C.maxDrawdown>-10?"warning":"danger"}]},[C,eo,e]),em=n.useMemo(()=>D.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),balance:e.balance})),[D]),eu=n.useMemo(()=>F,[F]);return q.dashboard&&!I?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(x.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):H.dashboard&&!I?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center",children:[(0,a.jsx)(m.Z,{className:"h-12 w-12 text-red-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Failed to load dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:H.dashboard})]}),(0,a.jsx)("button",{onClick:ec,className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Try Again"})]})}):!C&&0===D.length&&0===O.length&&I?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center max-w-md",children:[(0,a.jsx)(d.Z,{className:"h-16 w-16 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"No Trading Data"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Import your trading data to see analytics and performance metrics. Go to the Import tab to upload your broker CSV files."})]}),(0,a.jsx)("a",{href:"/import",className:"mt-4 px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Import Data"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Trading performance overview"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(B.D,{dateRange:P,onDateRangeChange:ed}),(0,a.jsxs)("button",{onClick:ec,disabled:q.dashboard,className:(0,h.cn)("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium","bg-secondary text-secondary-foreground hover:bg-secondary/80","disabled:opacity-50 disabled:cursor-not-allowed"),children:[(0,a.jsx)(x.Z,{className:(0,h.cn)("h-4 w-4",q.dashboard&&"animate-spin")}),"Refresh"]})]})]}),V&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Last updated: ",V.toLocaleTimeString()]})]})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[ex.length>0&&(0,a.jsx)("section",{children:(0,a.jsx)(y,{items:ex,columns:6})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[em.length>0&&(0,a.jsx)(S,{title:"Account Balance",subtitle:"Equity curve over time",onExpand:()=>v("balance"),onDownload:()=>console.log("Download balance chart"),children:b&&b.series.length>1?(0,a.jsx)(E.y,{series:b.series,total:b.total,height:300,showTotal:!0,showLegend:!0}):(0,a.jsx)(T.E,{data:em,height:300,startingBalance:1e4,showGrid:!0,currency:eo})}),eu.length>0&&(0,a.jsx)(S,{title:"Win Rate by Instrument",subtitle:"Performance breakdown",onExpand:()=>v("winRate"),children:(0,a.jsx)(L.uK,{data:eu,height:300})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[R.length>0&&(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(S,{title:"Monthly P&L",subtitle:"Profit and loss by month",onExpand:()=>v("monthlyPnL"),children:w&&w.series.length>1?(0,a.jsx)(A.H,{series:w.series,total:w.total,height:280,showTotal:!1,stacked:!0}):(0,a.jsx)(z.D,{data:R,height:280,currency:eo})})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(G,{trades:O,maxItems:5,showHeader:!0,title:"Recent Trades",onViewAll:()=>console.log("View all trades"),loading:q.recentTrades})})]})]}),(0,a.jsx)(_.$,{isOpen:"balance"===j,onClose:()=>v(null),title:"Account Balance",subtitle:"Equity curve over time - All accounts",children:b&&b.series.length>1?(0,a.jsx)(E.y,{series:b.series,total:b.total,height:"100%",showTotal:!0,showLegend:!0}):(0,a.jsx)(T.E,{data:em,height:600,startingBalance:1e4,showGrid:!0,currency:eo})}),(0,a.jsx)(_.$,{isOpen:"monthlyPnL"===j,onClose:()=>v(null),title:"Monthly P&L",subtitle:"Profit and loss by month - All accounts",children:w&&w.series.length>1?(0,a.jsx)(A.H,{series:w.series,total:w.total,height:600,showTotal:!1,stacked:!0}):(0,a.jsx)(z.D,{data:R,height:600,currency:eo})}),(0,a.jsx)(_.$,{isOpen:"winRate"===j,onClose:()=>v(null),title:"Win Rate by Instrument",subtitle:"Performance breakdown across different markets",children:(0,a.jsx)(L.uK,{data:eu,height:600,layout:"horizontal"})})]})}}},function(e){e.O(0,[936,673,381,602,419,68,915,971,69,744],function(){return e(e.s=21241)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{72881:function(e,t,s){Promise.resolve().then(s.bind(s,3258))},98998:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},80037:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},23441:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},26490:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},93276:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},48219:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},10822:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},40834:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},53348:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},29910:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(87461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3258:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var n=s(3827),a=s(64090),r=s(80037),l=s(53348),i=s(87461);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var o=s(48219),d=s(40834);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),m=(0,i.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),x=(0,i.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),h=(0,i.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var f=s(26490),p=s(10822);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,i.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),b=(0,i.Z)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=s(98998),y=s(93276);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,i.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var N=s(50489),w=s(29910),k=s(22169),C=s(15671),S=s(575),D=s(33277),Z=s(5080),E=s(23441);let M=[{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"DKK",symbol:"kr",name:"Danish Krone"},{code:"EUR",symbol:"€",name:"Euro"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"GBP",symbol:"\xa3",name:"British Pound"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"}];function A(e){let{className:t,label:s="Display Currency",showLabel:r=!0,size:l="md",variant:i="default"}=e,[c,o]=a.useState(!1),d=a.useRef(null),{defaultCurrency:u,setDefaultCurrency:m,currenciesInUse:x}=(0,Z.ux)();a.useEffect(()=>{function e(e){d.current&&!d.current.contains(e.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=a.useMemo(()=>x.length>0?[...M.filter(e=>x.includes(e.code)),...M.filter(e=>!x.includes(e.code))]:M,[x]),f=M.find(e=>e.code===u)||M[0];return(0,n.jsxs)("div",{className:(0,k.cn)("relative",t),ref:d,children:[r&&(0,n.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-1",children:s}),(0,n.jsxs)("button",{type:"button",onClick:()=>o(!c),className:(0,k.cn)("flex items-center justify-between gap-2 rounded-md font-medium transition-colors","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{sm:"h-8 text-xs px-2",md:"h-9 text-sm px-3",lg:"h-10 text-base px-4"}[l],{default:"bg-secondary border border-border hover:bg-secondary/80",outline:"border border-border hover:bg-accent",ghost:"hover:bg-accent"}[i],"min-w-[120px]"),children:[(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:f.symbol}),(0,n.jsx)("span",{children:f.code})]}),(0,n.jsx)(E.Z,{className:(0,k.cn)("h-4 w-4 opacity-50 transition-transform",c&&"rotate-180")})]}),c&&(0,n.jsx)("div",{className:(0,k.cn)("absolute z-50 mt-1 w-full min-w-[180px]","rounded-md border border-border bg-popover shadow-md","animate-in fade-in-0 zoom-in-95"),children:(0,n.jsxs)("div",{className:"p-1 max-h-[300px] overflow-auto",children:[x.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"In Use"}),h.filter(e=>x.includes(e.code)).map(e=>(0,n.jsx)(L,{currency:e,isSelected:e.code===u,onClick:()=>{m(e.code),o(!1)}},e.code)),(0,n.jsx)("div",{className:"my-1 h-px bg-border"}),(0,n.jsx)("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Other Currencies"})]}),h.filter(e=>!x.includes(e.code)||0===x.length).map(e=>(0,n.jsx)(L,{currency:e,isSelected:e.code===u,onClick:()=>{m(e.code),o(!1)}},e.code))]})})]})}function L(e){let{currency:t,isSelected:s,onClick:a}=e;return(0,n.jsxs)("button",{type:"button",onClick:a,className:(0,k.cn)("flex w-full items-center gap-2 rounded-sm px-2 py-1.5 text-sm","hover:bg-accent hover:text-accent-foreground","focus:outline-none focus:bg-accent",s&&"bg-accent"),children:[(0,n.jsx)("span",{className:"w-6 font-semibold",children:t.symbol}),(0,n.jsx)("span",{className:"flex-1 text-left",children:t.code}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground hidden sm:inline",children:t.name}),s&&(0,n.jsx)(r.Z,{className:"h-4 w-4 text-primary"})]})}function Y(e){let{className:t}=e,{showConverted:s,setShowConverted:r}=(0,Z.ux)(),l=a.useCallback(()=>{r(!s)},[s,r]);return(0,n.jsxs)("button",{type:"button",onClick:l,className:(0,k.cn)("flex items-center gap-2 cursor-pointer select-none",t),children:[(0,n.jsx)("div",{className:(0,k.cn)("relative h-5 w-9 rounded-full transition-colors",s?"bg-primary":"bg-muted"),children:(0,n.jsx)("div",{className:(0,k.cn)("absolute top-0.5 h-4 w-4 rounded-full bg-white shadow-sm transition-transform",s?"translate-x-4":"translate-x-0.5")})}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Show converted values"})]})}let z={theme:"dark",dateFormat:"MM/DD/YYYY",timeFormat:"12h",showPercent:!0,showNotifications:!0,dailyLossLimit:500,maxPositionSize:1e4,defaultInstrument:"US30"},R=["SEK","DKK","EUR","USD","GBP","NOK","CHF"],K={USD:1,SEK:.095,DKK:.14,EUR:1.08,GBP:1.27,NOK:.091,CHF:1.13};function U(e){let t=K[e]||1,s={};for(let[n,a]of Object.entries(K))n===e?s[n]=1:s[n]=a/t;return s}function F(){let[e,t]=a.useState(z),[s,i]=a.useState(!1),[E,M]=a.useState(!1),[L,K]=a.useState(!1),[F,P]=a.useState({}),[O,T]=a.useState([]),[I,_]=a.useState(null),[H,q]=a.useState(""),[B,G]=a.useState(!1),[V,J]=a.useState(null),[$,W]=a.useState(null),[X,Q]=a.useState(null),[ee,et]=a.useState(null),{defaultCurrency:es,showConverted:en,exchangeRates:ea,currenciesInUse:er,setExchangeRates:el,setDefaultCurrency:ei,formatAmount:ec}=(0,Z.ux)();a.useEffect(()=>{(async()=>{try{let e=await fetch("/api/import/accounts");if(e.ok){let t=await e.json();T(Array.isArray(t)?t:[])}}catch(e){console.error("Failed to fetch accounts:",e),T([])}})()},[$]),a.useEffect(()=>{(null==ea?void 0:ea.rates)&&P(ea.rates),null===X&&Q(es),null===ee&&et(en)},[ea,es,en,X,ee]),a.useEffect(()=>{if(es&&ea){let e=U(es);P(e),el({baseCurrency:es,rates:e,updatedAt:new Date().toISOString()})}},[es]),a.useEffect(()=>{let t=JSON.stringify(e)!==JSON.stringify(z),s=null!==X&&es!==X,n=null!==ee&&en!==ee,a=L&&(null==ea?void 0:ea.rates)&&JSON.stringify(F)!==JSON.stringify(ea.rates);M(t||s||n||!!a)},[e,es,en,X,ee,F,L,ea]);let eo=(e,s)=>{t(t=>({...t,[e]:s}))},ed=(e,t)=>{P(s=>({...s,[e]:t})),M(!0)};return(0,n.jsx)("div",{className:"min-h-screen bg-background p-6 md:p-8",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your account preferences and display options"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,n.jsxs)(D.C,{variant:"outline",className:"gap-1 bg-green-500/10 text-green-500",children:[(0,n.jsx)(r.Z,{className:"h-3 w-3"}),"Saved"]}),(0,n.jsxs)(S.z,{variant:"outline",onClick:()=>{t(z),X&&ei(X),P(U(X||"SEK")),K(!1)},disabled:!E,children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Reset"]}),(0,n.jsxs)(S.z,{onClick:()=>{ea&&el({baseCurrency:es,rates:F,updatedAt:new Date().toISOString()}),Q(es),et(en),i(!0),M(!1),K(!1),setTimeout(()=>i(!1),2e3)},disabled:!E,children:[(0,n.jsx)(c,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(o.Z,{className:"h-5 w-5"}),"Currency Settings"]}),(0,n.jsx)(C.SZ,{children:"Configure your default currency and conversion display preferences"})]}),(0,n.jsxs)(C.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(A,{label:"Default Display Currency",showLabel:!0,size:"md"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"All amounts can be converted to this currency for comparison"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-medium text-muted-foreground mb-2",children:"Conversion Display"}),(0,n.jsx)(Y,{}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Show amounts in both original and default currency"})]})]}),er.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Currencies in Your Portfolio"}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:er.map(e=>(0,n.jsx)(D.C,{variant:e===es?"default":"secondary",children:e},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsxs)("label",{className:"text-sm font-medium",children:["Exchange Rates (1 unit = X ",es,")"]}),(0,n.jsxs)(S.z,{variant:"outline",size:"sm",onClick:()=>K(!L),className:"gap-2",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),L?"Cancel Edit":"Edit Rates"]})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:R.filter(e=>e!==((null==ea?void 0:ea.baseCurrency)||"SEK")).map(e=>(0,n.jsxs)("div",{className:(0,k.cn)("p-3 rounded-lg border",L?"bg-background border-input":"bg-accent/50 border-transparent"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:e}),er.includes(e)&&(0,n.jsx)(D.C,{variant:"outline",className:"text-xs py-0",children:"In use"})]}),L?(0,n.jsx)("input",{type:"number",step:"0.01",value:F[e]||"",onChange:t=>ed(e,parseFloat(t.target.value)||0),className:"w-full px-2 py-1 bg-background border border-input rounded text-sm"}):(0,n.jsx)("span",{className:"text-lg font-semibold",children:(F[e]||0).toFixed(2)})]},e))}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Exchange rates are used to convert amounts between currencies. Update these rates periodically for accurate conversions."})]}),(0,n.jsxs)("div",{className:"p-4 bg-accent/30 rounded-lg",children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Conversion Example"}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,n.jsx)("span",{children:"100 USD"}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,n.jsx)("span",{className:"font-semibold",children:ec(100*(F.USD||1),es)})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm mt-2",children:[(0,n.jsx)("span",{children:"100 EUR"}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"="}),(0,n.jsx)("span",{className:"font-semibold",children:ec(100*(F.EUR||1),es)})]})]})]})]}),(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(u,{className:"h-5 w-5"}),"Appearance"]}),(0,n.jsx)(C.SZ,{children:"Customize how the application looks"})]}),(0,n.jsx)(C.aY,{className:"space-y-6",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Theme"}),(0,n.jsx)("div",{className:"flex gap-2",children:[{value:"light",label:"Light",icon:m},{value:"dark",label:"Dark",icon:x},{value:"system",label:"System",icon:u}].map(t=>{let s=t.icon;return(0,n.jsxs)(S.z,{variant:e.theme===t.value?"default":"outline",onClick:()=>eo("theme",t.value),className:"gap-2",children:[(0,n.jsx)(s,{className:"h-4 w-4"}),t.label]},t.value)})})]})})]}),(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(h,{className:"h-5 w-5"}),"Display Preferences"]}),(0,n.jsx)(C.SZ,{children:"Configure how data is displayed"})]}),(0,n.jsxs)(C.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-3 block",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4 inline mr-2"}),"Date Format"]}),(0,n.jsx)("div",{className:"flex gap-2",children:[{value:"MM/DD/YYYY",label:"MM/DD/YYYY"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}].map(t=>(0,n.jsx)(S.z,{variant:e.dateFormat===t.value?"default":"outline",size:"sm",onClick:()=>eo("dateFormat",t.value),children:t.label},t.value))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Time Format"}),(0,n.jsx)("div",{className:"flex gap-2",children:[{value:"12h",label:"12-hour (AM/PM)"},{value:"24h",label:"24-hour"}].map(t=>(0,n.jsx)(S.z,{variant:e.timeFormat===t.value?"default":"outline",size:"sm",onClick:()=>eo("timeFormat",t.value),children:t.label},t.value))})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium",children:[(0,n.jsx)(p.Z,{className:"h-4 w-4 inline mr-2"}),"Show P&L Percentage"]}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display percentage values alongside absolute P&L"})]}),(0,n.jsx)(S.z,{variant:e.showPercent?"default":"outline",size:"sm",onClick:()=>eo("showPercent",!e.showPercent),children:e.showPercent?"On":"Off"})]})]})]}),(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(g,{className:"h-5 w-5"}),"Notifications"]}),(0,n.jsx)(C.SZ,{children:"Configure alerts and notifications"})]}),(0,n.jsx)(C.aY,{className:"space-y-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Enable Notifications"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive alerts for trades and risk limits"})]}),(0,n.jsx)(S.z,{variant:e.showNotifications?"default":"outline",size:"sm",onClick:()=>eo("showNotifications",!e.showNotifications),className:"gap-2",children:e.showNotifications?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{className:"h-4 w-4"}),"On"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{className:"h-4 w-4"}),"Off"]})})]})})]}),(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(v.Z,{className:"h-5 w-5"}),"Risk Management"]}),(0,n.jsx)(C.SZ,{children:"Set trading limits and risk parameters"})]}),(0,n.jsxs)(C.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-3 block",children:["Daily Loss Limit (",es,")"]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"range",min:"100",max:"2000",step:"50",value:e.dailyLossLimit,onChange:e=>eo("dailyLossLimit",Number(e.target.value)),className:"flex-1 h-2 bg-secondary rounded-lg appearance-none cursor-pointer"}),(0,n.jsx)("div",{className:"w-24",children:(0,n.jsx)("input",{type:"number",value:e.dailyLossLimit,onChange:e=>eo("dailyLossLimit",Number(e.target.value)),className:"w-full px-3 py-2 bg-background border border-input rounded-md text-sm"})})]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Trading will be paused when daily loss reaches this limit"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-3 block",children:["Maximum Position Size (",es,")"]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("input",{type:"range",min:"1000",max:"50000",step:"1000",value:e.maxPositionSize,onChange:e=>eo("maxPositionSize",Number(e.target.value)),className:"flex-1 h-2 bg-secondary rounded-lg appearance-none cursor-pointer"}),(0,n.jsx)("div",{className:"w-24",children:(0,n.jsx)("input",{type:"number",value:e.maxPositionSize,onChange:e=>eo("maxPositionSize",Number(e.target.value)),className:"w-full px-3 py-2 bg-background border border-input rounded-md text-sm"})})]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Maximum exposure per position"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Default Instrument"}),(0,n.jsxs)("select",{value:e.defaultInstrument,onChange:e=>eo("defaultInstrument",e.target.value),className:"w-full max-w-xs px-3 py-2 bg-background border border-input rounded-md text-sm",children:[(0,n.jsx)("option",{value:"US30",children:"US30 (Dow Jones)"}),(0,n.jsx)("option",{value:"GER40",children:"GER40 (DAX)"}),(0,n.jsx)("option",{value:"NAS100",children:"NAS100 (NASDAQ)"}),(0,n.jsx)("option",{value:"UK100",children:"UK100 (FTSE)"}),(0,n.jsx)("option",{value:"SPX500",children:"SPX500 (S&P 500)"})]}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Default instrument for new trades"})]})]})]}),(0,n.jsxs)(C.Zb,{className:"border-destructive/50",children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2 text-destructive",children:[(0,n.jsx)(y.Z,{className:"h-5 w-5"}),"Data Management"]}),(0,n.jsx)(C.SZ,{children:"Delete account data or clear the entire database"})]}),(0,n.jsxs)(C.aY,{className:"space-y-6",children:[$&&(0,n.jsxs)("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg flex items-center gap-2 text-green-500",children:[(0,n.jsx)(r.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-sm",children:$})]}),V&&(0,n.jsxs)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center gap-2 text-destructive",children:[(0,n.jsx)(j,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-sm",children:V})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium mb-3 block",children:"Select Data to Delete"}),(0,n.jsxs)("select",{value:null!=I?I:"",onChange:e=>{let t=e.target.value;_("all"===t?"all":t?Number(t):null),q(""),J(null),W(null)},className:"w-full max-w-md px-3 py-2 bg-background border border-input rounded-md text-sm",children:[(0,n.jsx)("option",{value:"",children:"-- Select an option --"}),O&&O.length>0&&O.map(e=>(0,n.jsxs)("option",{value:e.account_id,children:[e.account_name," (",e.broker_name,") - Account #",e.account_id]},e.account_id)),(0,n.jsx)("option",{value:"all",children:"⚠️ ALL DATA (Entire Database)"})]})]}),null!==I&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)(j,{className:"h-5 w-5 text-destructive mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-destructive",children:"all"===I?"Warning: This will delete ALL data!":"Warning: This will delete all transactions for this account!"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"all"===I?"All accounts, transactions, and imported data will be permanently removed. This action cannot be undone.":"All transactions associated with this account will be permanently deleted. This action cannot be undone."})]})]})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Type"," ",(0,n.jsx)("span",{className:"font-mono bg-muted px-1.5 py-0.5 rounded text-destructive",children:"all"===I?"DELETE ALL":"DELETE"})," ","to confirm"]}),(0,n.jsx)("input",{type:"text",value:H,onChange:e=>q(e.target.value),placeholder:"all"===I?"DELETE ALL":"DELETE",className:"w-full max-w-md px-3 py-2 bg-background border border-input rounded-md text-sm"})]}),(0,n.jsxs)(S.z,{variant:"destructive",disabled:B||("all"===I?"DELETE ALL"!==H:"DELETE"!==H),onClick:async()=>{G(!0),J(null),W(null);try{if("all"===I){let e=await fetch("/api/import/transactions?confirm=true",{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to delete data")}let t=await e.json();W(t.message||"All data deleted successfully")}else{let e=await fetch("/api/import/accounts/".concat(I,"?deleteTransactions=true"),{method:"DELETE"});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to delete account")}let t=await e.json();W(t.message||"Account deleted successfully")}_(null),q("")}catch(e){J(e instanceof Error?e.message:"An error occurred")}finally{G(!1)}},className:"gap-2",children:[(0,n.jsx)(N.Z,{className:"h-4 w-4"}),B?"Deleting...":"all"===I?"Delete All Data":"Delete Account Data"]})]})]})]}),(0,n.jsxs)(C.Zb,{children:[(0,n.jsxs)(C.Ol,{children:[(0,n.jsxs)(C.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(w.Z,{className:"h-5 w-5"}),"Account Information"]}),(0,n.jsx)(C.SZ,{children:"Your trading account details"})]}),(0,n.jsx)(C.aY,{children:(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O&&O.length>0?O.map(e=>(0,n.jsxs)("div",{className:"p-4 bg-accent/50 rounded-lg",children:[(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:e.broker_name}),(0,n.jsx)("p",{className:"font-medium",children:e.account_name}),(0,n.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Account #",e.account_id]})]},e.account_id)):(0,n.jsx)("div",{className:"col-span-2 p-4 bg-accent/50 rounded-lg text-center text-muted-foreground",children:"No accounts found. Import data to get started."})})})]})]})]})})}},33277:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var n=s(3827);s(64090);var a=s(49769),r=s(22169);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/10 text-green-500 hover:bg-green-500/20",warning:"border-transparent bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20",danger:"border-transparent bg-red-500/10 text-red-500 hover:bg-red-500/20"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,n.jsx)("div",{className:(0,r.cn)(l({variant:s}),t),...a})}},575:function(e,t,s){"use strict";s.d(t,{d:function(){return c},z:function(){return o}});var n=s(3827),a=s(64090),r=s(59143),l=s(49769),i=s(22169);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-500 text-white hover:bg-green-600",danger:"bg-red-500 text-white hover:bg-red-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",xs:"h-7 rounded px-2 text-xs"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...d}=e,u=o?r.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:a,size:l,className:s})),ref:t,...d})});o.displayName="Button"},15671:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var n=s(3827),a=s(64090),r=s(22169);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},22169:function(e,t,s){"use strict";s.d(t,{T_:function(){return i},cn:function(){return r},xG:function(){return l}});var n=s(75504),a=s(51367);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,n.W)(t))}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";return new Intl.NumberFormat(s,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function i(e){return e>0?"text-green-500":e<0?"text-red-500":"text-muted-foreground"}},5080:function(e,t,s){"use strict";s.d(t,{ux:function(){return o}});var n=s(22020),a=s(65249);let r={SEK:"kr",DKK:"kr",EUR:"€",USD:"$",GBP:"\xa3",NOK:"kr",CHF:"CHF",JPY:"\xa5",AUD:"A$",CAD:"C$",NZD:"NZ$"},l={USD:1,SEK:.095,DKK:.14,EUR:1.08,GBP:1.27,NOK:.091,CHF:1.13,JPY:.0067,AUD:.65,CAD:.74,NZD:.6};function i(e){let t=l[e]||1,s={};for(let[n,a]of Object.entries(l))n===e?s[n]=1:s[n]=a/t;return s}let c=i("DKK"),o=(0,n.Ue)()((0,a.tJ)((e,t)=>({defaultCurrency:"DKK",showConverted:!0,exchangeRates:{baseCurrency:"DKK",rates:c,updatedAt:null},currenciesInUse:[],supportedCurrencies:[],isLoading:!1,error:null,setDefaultCurrency:t=>e({defaultCurrency:t}),setShowConverted:t=>e({showConverted:t}),setExchangeRates:t=>e({exchangeRates:t}),setCurrenciesInUse:t=>e({currenciesInUse:t}),setSupportedCurrencies:t=>e({supportedCurrencies:t}),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),getRate:(e,s)=>{if(e===s)return 1;let{exchangeRates:n}=t();if(!n)return null;let{rates:a,baseCurrency:r}=n;if(s===r&&a[e])return a[e];if(e===r&&a[s])return 1/a[s];let l=a[e],i=a[s];return l&&i?l/i:null},convert:(e,s,n)=>{let a=n||t().defaultCurrency,r=t().getRate(s,a);return null===r?null:e*r},formatAmount:(e,t)=>{let s=r[t]||t,n=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return["USD","GBP","AUD","CAD","NZD"].includes(t)?"".concat(s).concat(n):"".concat(n," ").concat(s)},formatWithConversion:(e,s)=>{let{defaultCurrency:n,showConverted:a,formatAmount:r,convert:l}=t(),i=r(e,s);if(!a||s===n)return{original:i,converted:null,showBoth:!1};let c=l(e,s,n);return{original:i,converted:null!==c?r(c,n):null,showBoth:a&&null!==c}}}),{name:"currency-preferences",partialize:e=>({defaultCurrency:e.defaultCurrency,showConverted:e.showConverted,exchangeRates:e.exchangeRates}),onRehydrateStorage:()=>e=>{if(e&&e.exchangeRates&&e.exchangeRates.baseCurrency!==e.defaultCurrency){let t=i(e.defaultCurrency);e.exchangeRates={baseCurrency:e.defaultCurrency,rates:t,updatedAt:new Date().toISOString()}}}}))}},function(e){e.O(0,[673,381,971,69,744],function(){return e(e.s=72881)}),_N_E=e.O()}]);